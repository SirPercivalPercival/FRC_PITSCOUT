
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pit Scout</title>
    <link rel="manifest" href="static\manifest.json">
    <meta name="theme-color" content="#00ffff">
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/msgpack-lite/0.1.26/msgpack.min.js"></script>
    <style>
        .fade-in {
            opacity: 0; 
            transition: opacity 500ms ease-in;
        }

        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            font-family: 'Impact', sans-serif;
            background-color: rgb(0, 217, 255);
            color: black;
            position: relative;
            padding: 20px;
        }
        .title {
            font-size: clamp(32px, 8vw, 48px);
            margin-top: 20px;
            text-align: center;
        }
        .home-button {
            font-family: 'Impact', sans-serif;
            font-size: clamp(24px, 8vw, 32px);
            cursor: pointer;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 8px;
            text-decoration: none;
            white-space: nowrap;
            padding: 15px 30px;
            margin-bottom: 30px;
            transition: all 0.3s;
        }
        .home-button:hover {
            background-color: #45a049;
            transform: scale(1.05);
        }

        @media screen and (max-width: 600px) {
            body {
                padding: 10px;
            }
        }

        .fade-in {
            opacity: 0;
            transition: opacity 500ms ease-in; 
        }

        .weight container, .preload-container, .algae-capability-container, .chassis-container, .gear-ratio-container, .vision-container, .hang-container, .reef-capability-container, .confidence-container, .experience-container, .intake-container, .mechanism-container {
            border: 2px solid black;
            padding: 5px;
            width: 400px;
            margin: 20px auto;
            display: flex;
            align-items: center;
        }

        .weight-container h3, .preload-container h3, .algae-capability-container h3, .chassis-container h3, .gear-ratio-container h3, .vision-container h3, .hang-container h3, .reef-capability-container h3, .confidence-container h3, .experience-container h3, .mechanism-container h3, .intake-container h3{
            font-family: 'Bebas Neue', sans-serif;
            font-size: 32px;
            margin-right: 10px;
        }

        .radio-button label, .gear-ratio-label {
            font-family: 'Bebas Neue', sans-serif;
        }

        .weight-container {
            border: 2px solid black;
            padding: 20px;
            margin: 20px auto;
            width: 600px;
            box-sizing: border-box;
        }
        
        .weight-inputs {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        .weight-inputs label {
            font-size: 16px;
        }
        
        .weight-inputs input {
            width: 120px;
            padding: 5px;
            font-size: 16px;
        }
        

        .radio-button {
            cursor: pointer;
            display: flex;
            align-items: center;
            margin: 6px 0;
            font-size: 18px;
        }

        .radio-button input[type="radio"] {
            width: 18px;
            height: 18px;
            margin-right: 6px;
        }

        .gear-ratio-input, .experience-input {
            margin: 0 10px;
            width: 60px;
        }

        .vision-container, .hang-container {
            flex-direction: column;
            align-items: flex-start;
        }

        .vision-container {
            margin-bottom: 40px;
        }

        .reef-capability-container {
            flex-direction: column;
            align-items: flex-start;
        }

        .reef-capability-options {
            display: flex;
            flex-wrap: wrap;
            width: 100%;
        }

        .reef-capability-option {
            width: 50%;
            display: flex;
            align-items: center;
        }

        .vision-container {
            display: flex;
            align-items: center;
            justify-content: flex-start;
        }

        .vision-options {
            display: flex;
            margin-left: 10px;
        }

        .hang-container {
            display: flex;
            align-items: center;
            justify-content: flex-start;
        }

        .hang-options {
            display: flex;
            margin-left: 10px;
        }

        .info-container {
            border: 2px solid black; 
            padding: 20px; 
            width: 600px;
            margin: 20px auto; 
            display: flex; 
            flex-direction: column; 
            align-items: flex-start;
            box-sizing: border-box; 
        }

        .info-container h3 {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 32px;
            margin-bottom: 10px;
        }

        .info-input {
            margin: 5px 0; 
            width: 100%; 
            padding: 10px; 
            font-size: 16px;
            box-sizing: border-box; 
            background-color: #f0f0f0; 
            border: 1px solid #ccc; 
            color: #333; 
        }

        .submit-button {
            background-color: green;
            color: white;
            padding: 20px 40px;
            font-size: 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 20px;
            font-family: 'Impact', sans-serif;
        }
        .submit-button:hover {
            background-color: darkgreen; 
        }
        .section-label {
            font-size: 28px; 
            font-weight: bold; 
            margin-top: 20px; 
            margin-bottom: 10px; 
            color: yellow; 
            background-color: rgba(0, 0, 0, 0.5); 
            padding: 10px; 
            border-radius: 5px; 
            font-family: 'Impact', sans-serif; 
        }
        
        #gear-ratio-container {
            display: none; 
        }

        .mechanism-container {
            display: flex;
            flex-direction: column;
            gap: 10px; 
        }

    </style>
</head>
<body class="fade-in">
    <a id="home-button" href="https://sirpercivalpercival.github.io/FRC_PITSCOUT/" class="home-button">Back to Home</a>
    
   
    <h1 class="title">PIT SCOUT</h1>

    

   
    <div class="info-container">
        <h3>INFORMATION</h3>
        <label for="scouter-name">Scouter Name:</label>
        <input type="text" id="scouter-name" class="info-input" value="" readonly>

        <label for="team-number">Team Number:</label>
        <input type="number" id="team-number" class="info-input" value="1234" readonly>

        
    </div>

    
    <div class="chassis-container">
        <h3>Chassis:</h3>
        <div class="radio-button">
            <input type="radio" name="driveType" value="Swerve Drive" id="swerve-drive" required>
            <label for="swerve-drive">Swerve Drive</label>
        </div>
        <div class="radio-button">
            <input type="radio" name="driveType" value="Mecanum" id="mecanum-drive" required>
            <label for="mecanum-drive">Mecanum</label>
        </div>
        <div class="radio-button">
            <input type="radio" name="driveType" value="Tank Drive" id="tank-drive" required>
            <label for="tank-drive">Tank Drive</label>
        </div>
    </div>

    
    <div id="gear-ratio-container">
        <div class="gear-ratio-container">
            <h3>Gear Ratio:</h3>
            <select id="gear-ratio-1">
                <option value="L1">L1</option>
                <option value="L2">L2</option>
                <option value="L3">L3</option>
                <option value="L4">L4</option>
            </select>
            <span>:</span>
            <select id="gear-ratio-2">
                <option value="L1">L1</option>
                <option value="L2">L2</option>
                <option value="L3">L3</option>
                <option value="L4">L4</option>
            </select>
        </div>
    </div>

    <div class="mechanism-container">
        <h3>Mechanism:</h3>
        <div class="radio-button">
            <input type="radio" name="mechanism" value="Arm" id="arm-mechanism">
            <label for="arm-mechanism">Arm</label>
        </div>
        <div class="radio-button">
            <input type="radio" name="mechanism" value="Elevator" id="elevator-mechanism">
            <label for="elevator-mechanism">Elevator </label>
        </div>
        <div class="radio-button">
            <label for="other-mechanism"> Others:</label>
            <input type="text" id="other-mechanism" class="gear-ratio-input" placeholder="Enter other mechanism">
        </div>
    </div>

    
    <div class="intake-container">
        <h3>Intake:</h3>
        <div class="radio-button">
            <input type="radio" name="Intake" value="Share" id="share-intake">
            <label for="share-intake">Algae+Coral</label>
        </div>
        <div class="radio-button">
            <input type="radio" name="Intake" value="Independent" id="independent-intake">
            <label for="independent-intake">Seperated</label>
        </div>
    </div>

    
    <div class="algae-capability-container">
        <h3>Algae Capability:</h3>
        <div class="algae-capability-options">
            <div class="algae-capability-option">
                <input type="checkbox" name="algaeCapability" value="Processor" id="processor" required>
                <label for="processor">Processor</label>
            </div>
            <div class="algae-capability-option">
                <input type="checkbox" name="algaeCapability" value="Net" id="net" required>
                <label for="net">Net</label>
            </div>
        </div>
    </div>

    <script>
        
        function saveAlgaeCapability() {
            const processor = document.getElementById('processor').checked;
            const net = document.getElementById('net').checked;
    
            localStorage.setItem('processorChecked', processor);
            localStorage.setItem('netChecked', net);
        }
    
        function loadAlgaeCapability() {
            const processorChecked = localStorage.getItem('processorChecked') === 'true';
            const netChecked = localStorage.getItem('netChecked') === 'true';
    
            document.getElementById('processor').checked = processorChecked;
            document.getElementById('net').checked = netChecked;
        }
    

        document.getElementById('processor').addEventListener('change', saveAlgaeCapability);
        document.getElementById('net').addEventListener('change', saveAlgaeCapability);
    

        document.addEventListener('DOMContentLoaded', loadAlgaeCapability);
    </script>

    


    <div class="reef-capability-container">
        <h3>Reef Capability:</h3>
        <div class="reef-capability-options">
            <div class="reef-capability-option">
                <input type="checkbox" name="reefCapability" value="L1" id="l1" required>
                <label for="l1">L1</label>
            </div>
            <div class="reef-capability-option">
                <input type="checkbox" name="reefCapability" value="L2" id="l2" required>
                <label for="l2">L2</label>
            </div>
            <div class="reef-capability-option">
                <input type="checkbox" name="reefCapability" value="L3" id="l3" required>
                <label for="l3">L3</label>
            </div>
            <div class="reef-capability-option">
                <input type="checkbox" name="reefCapability" value="L4" id="l4" required>
                <label for="l4">L4</label>
            </div>
        </div>
    </div>

    <div class="preload-container">
        <h3>PreLoad:</h3>
        <div class="preload-options">
            <div class="preload-option">
                <input type="checkbox" name="preload" value="Algae" id="preload-algae" required>
                <label for="preload-algae">Algae</label>
            </div>
            <div class="preload-option">
                <input type="checkbox" name="preload" value="Coral" id="preload-coral" required>
                <label for="preload-coral">Coral</label>
            </div>
            <div class="preload-option">
                <input type="checkbox" name="preload" value="Remove Algae from Branch" id="preload-remove-algae" required>
                <label for="preload-remove-algae">Remove Algae from Branch</label>
            </div>
        </div>
    </div>
    
    <script>

        function savePreloadOptions() {
            const algaeChecked = document.getElementById('preload-algae').checked;
            const coralChecked = document.getElementById('preload-coral').checked;
            const removeAlgaeChecked = document.getElementById('preload-remove-algae').checked;
    
            localStorage.setItem('preloadAlgaeChecked', algaeChecked);
            localStorage.setItem('preloadCoralChecked', coralChecked);
            localStorage.setItem('preloadRemoveAlgaeChecked', removeAlgaeChecked);
        }
    

        function loadPreloadOptions() {
            const algaeChecked = localStorage.getItem('preloadAlgaeChecked') === 'true';
            const coralChecked = localStorage.getItem('preloadCoralChecked') === 'true';
            const removeAlgaeChecked = localStorage.getItem('preloadRemoveAlgaeChecked') === 'true';
    
            document.getElementById('preload-algae').checked = algaeChecked;
            document.getElementById('preload-coral').checked = coralChecked;
            document.getElementById('preload-remove-algae').checked = removeAlgaeChecked;
        }
    

        document.getElementById('preload-algae').addEventListener('change', savePreloadOptions);
        document.getElementById('preload-coral').addEventListener('change', savePreloadOptions);
        document.getElementById('preload-remove-algae').addEventListener('change', savePreloadOptions);

        document.addEventListener('DOMContentLoaded', loadPreloadOptions);
    </script>


    <div class="hang-container">
        <h3>Hang:</h3>
        <div class="hang-options">
            <div class="radio-button">
                <input type="radio" name="Hang" value="None" id="hang-none">
                <label for="hang-none">None</label>
            </div>
            <div class="radio-button">
                <input type="radio" name="Hang" value="Park" id="hang-park">
                <label for="hang-park">Park</label>
            </div>
            <div class="radio-button">
                <input type="radio" name="Hang" value="Shallow" id="hang-shallow">
                <label for="hang-shallow">Shallow</label>
            </div>
            <div class="radio-button">
                <input type="radio" name="Hang" value="Deep" id="hang-deep">
                <label for="hang-deep">Deep</label>
            </div>
        </div>
    </div>
    
<script>

    function saveHangSelection() {
        const selectedOption = document.querySelector('input[name="Hang"]:checked');
        if (selectedOption) {
            localStorage.setItem('hangSelection', selectedOption.id);
        }
    }


    function loadHangSelection() {
        const savedSelectionId = localStorage.getItem('hangSelection');
        if (savedSelectionId) {
            const savedOption = document.getElementById(savedSelectionId);
            if (savedOption) {
                savedOption.checked = true;
            }
        }
    }

    document.querySelectorAll('input[name="Hang"]').forEach(radio => {
        radio.addEventListener('change', saveHangSelection);
    });

    document.addEventListener('DOMContentLoaded', loadHangSelection);
</script>


    <div class="vision-container">
        <h3>Vision:</h3>
        <div class="vision-options">
            <div class="radio-button">
                <input type="checkbox" name="visionType" value="Auto-Alignment" id="auto-alignment" required>
                <label for="auto-alignment">Auto-Alignment</label>
            </div>
            <div class="radio-button">
                <input type="checkbox" name="visionType" value="Field-Positioning" id="field-positioning" required>
                <label for="field-positioning">Field-Positioning</label>
            </div>
        </div> 
    </div>


    <div class="weight-container">
        <h3>Weight of Robot</h3>
        <div class="weight-inputs">
            <label for="weight-kg">kg:</label>
            <input type="number" id="weight-kg" placeholder="Enter weight in kg" step="0.01" min="0">
            
            <label for="weight-lbs">lbs:</label>
            <input type="number" id="weight-lbs" placeholder="Enter weight in lbs" step="0.01" min="0">
        </div>
    </div>


    <div class="confidence-container">
        <h3>Is Human Confident in scoring algae to net?</h3>
        <div class="radio-button">
            <input type="radio" name="confidence" value="Yes" id="confidence-yes" required>
            <label for="confidence-yes">Yes</label>
        </div>
        <div class="radio-button">
            <input type="radio" name="confidence" value="No" id="confidence-no" required>
            <label for="confidence-no">No</label>
        </div>
    </div>


    <div class="experience-container">
        <h3>Driver Experience (Year):</h3>
        <input type="number" class="experience-input" placeholder="Years" min="0" required id="driver-experience">
    </div>

    <!--
    <div class="experience-container">
        <h3>Driver Awareness:</h3>
        <input type="range" class="experience-input" min="1" max="10" value="5" id="driver-awareness-slider" required>
        <span id="slider-value">5</span>
    </div>-->

   

    <a id="home-button" href="https://sirpercivalpercival.github.io/FRC_PITSCOUT/main/templates/main/QRCODE.html" class="home-button">Submit</a>

    <script>

        function toggleGearRatioContainer() {
            const gearRatioContainer = document.getElementById('gear-ratio-container');
            const swerveDriveSelected = document.getElementById('swerve-drive').checked;

            if (swerveDriveSelected) {
                gearRatioContainer.style.display = 'block';
            } else {
                gearRatioContainer.style.display = 'none';
            }
        }

       
        document.querySelectorAll('input[name="driveType"]').forEach(radio => {
            radio.addEventListener('change', toggleGearRatioContainer);
        });

       
        document.addEventListener('DOMContentLoaded', toggleGearRatioContainer);

        
        document.addEventListener('DOMContentLoaded', function () {

            const weightKgInput = document.getElementById('weight-kg');
            const weightLbsInput = document.getElementById('weight-lbs');
        

            const KG_TO_LBS = 2.204623;
            const LBS_TO_KG = 0.4535924;
        

            const savedWeightKg = localStorage.getItem('weightKg');
            const savedWeightLbs = localStorage.getItem('weightLbs');
            if (savedWeightKg) weightKgInput.value = savedWeightKg;
            if (savedWeightLbs) weightLbsInput.value = savedWeightLbs;
        

            weightKgInput.addEventListener('input', function () {
                const kgValue = parseFloat(weightKgInput.value);
                if (!isNaN(kgValue)) {
                    const lbsValue = (kgValue * KG_TO_LBS).toFixed(2);
                    weightLbsInput.value = lbsValue;
        

                    localStorage.setItem('weightKg', kgValue);
                    localStorage.setItem('weightLbs', lbsValue);
                } else if (weightKgInput.value.trim() === '') {

                    weightLbsInput.value = '';
                    localStorage.removeItem('weightKg');
                    localStorage.removeItem('weightLbs');
                }
            });
        

            weightLbsInput.addEventListener('input', function () {
                const lbsValue = parseFloat(weightLbsInput.value);
                if (!isNaN(lbsValue)) {
                    const kgValue = (lbsValue * LBS_TO_KG).toFixed(2);
                    weightKgInput.value = kgValue;
        

                    localStorage.setItem('weightKg', kgValue);
                    localStorage.setItem('weightLbs', lbsValue);
                } else if (weightLbsInput.value.trim() === '') {

                    weightKgInput.value = '';
                    localStorage.removeItem('weightKg');
                    localStorage.removeItem('weightLbs');
                }
            });
        });
    

            document.getElementById('other-mechanism').addEventListener('input', function () {
                if (this.value.trim()) {

                    document.getElementById('arm-mechanism').checked = false;
                    document.getElementById('elevator-mechanism').checked = false;
    

                    localStorage.setItem('otherMechanism', this.value.trim());
                }
            });
    

            document.querySelectorAll('input[name="mechanism"]').forEach(radio => {
                radio.addEventListener('change', function () {
                    if (this.checked) {
                        document.getElementById('other-mechanism').value = '';
                        localStorage.removeItem('otherMechanism'); 
                    }
                });
            });
    
            const savedOtherMechanism = localStorage.getItem('otherMechanism');
            if (savedOtherMechanism) {
                const otherMechanismField = document.getElementById('other-mechanism');
                otherMechanismField.value = savedOtherMechanism;
    
            
                document.getElementById('arm-mechanism').checked = false;
                document.getElementById('elevator-mechanism').checked = false;
            }
    
            
            function saveFormData() {
                const scouterName = document.getElementById("scouter-name").value;
                const teamNumber = document.getElementById("team-number").value;
                
    
                localStorage.setItem("scouterName", scouterName);
                localStorage.setItem("teamNumber", teamNumber);
                
    

                localStorage.setItem("driveType", document.querySelector('input[name="driveType"]:checked')?.value || '');
                localStorage.setItem("gearRatio1", document.getElementById("gear-ratio-1").value);
                localStorage.setItem("gearRatio2", document.getElementById("gear-ratio-2").value);
                localStorage.setItem("mechanism", document.querySelector('input[name="mechanism"]:checked')?.value || '');
                localStorage.setItem("intake", document.querySelector('input[name="Intake"]:checked')?.value || '');
                localStorage.setItem("reefCapability", Array.from(document.querySelectorAll('input[name="reefCapability"]:checked')).map(el => el.value).join(','));
                localStorage.setItem("visionType", Array.from(document.querySelectorAll('input[name="visionType"]:checked')).map(el => el.value).join(','));
                localStorage.setItem("hang", document.querySelector('input[name="Hang"]:checked')?.value || '');
                localStorage.setItem("confidence", document.querySelector('input[name="confidence"]:checked')?.value || '');
                localStorage.setItem("driverExperience", document.getElementById("driver-experience").value);
            }

            function loadFormData() {
                document.getElementById("scouter-name").value = localStorage.getItem("scouterName") || '';
                document.getElementById("team-number").value = localStorage.getItem("teamNumber") || '';
                

                const driveType = localStorage.getItem("driveType");
                if (driveType) {
                    document.querySelector(`input[name="driveType"][value="${driveType}"]`).checked = true;
                }
    
                document.getElementById("gear-ratio-1").value = localStorage.getItem("gearRatio1") || 'L1';
                document.getElementById("gear-ratio-2").value = localStorage.getItem("gearRatio2") || 'L1';
    
                const mechanism = localStorage.getItem("mechanism");
                if (mechanism) {
                    document.querySelector(`input[name="mechanism"][value="${mechanism}"]`).checked = true;
                }
    
                const intake = localStorage.getItem("intake");
                if (intake) {
                    document.querySelector(`input[name="Intake"][value="${intake}"]`).checked = true;
                }
    
                const reefCapability = localStorage.getItem("reefCapability")?.split(',') || [];
                reefCapability.forEach(value => {
                    const checkbox = document.querySelector(`input[name="reefCapability"][value="${value}"]`);
                    if (checkbox) {
                        checkbox.checked = true;
                    }
                });
    
                const visionType = localStorage.getItem("visionType")?.split(',') || [];
                visionType.forEach(value => {
                    const checkbox = document.querySelector(`input[name="visionType"][value="${value}"]`);
                    if (checkbox) {
                        checkbox.checked = true;
                    }
                });
    
                const hang = localStorage.getItem("hang");
                if (hang) {
                    document.querySelector(`input[name="Hang"][value="${hang}"]`).checked = true;
                }
    
                const confidence = localStorage.getItem("confidence");
                if (confidence) {
                    document.querySelector(`input[name="confidence"][value="${confidence}"]`).checked = true;
                }
    
                document.getElementById("driver-experience").value = localStorage.getItem("driverExperience") || '';
            }
    

            window.onload = function () {
                loadFormData();
                d3.select("body").style("opacity", 1);
            };

            window.addEventListener("beforeunload", saveFormData);

        


        
       
    
    </script>

    <script>
    function collectData() {
        const data = {
            scouterName: document.getElementById("scouter-name").value || "N/A",
            teamNumber: document.getElementById("team-number").value || "N/A",
            driverExperience: document.getElementById("driver-experience")?.value || "N/A",
            driveType: document.querySelector('input[name="driveType"]:checked')?.value || "N/A",
            mechanism: document.querySelector('input[name="mechanism"]:checked')?.value || document.getElementById("other-mechanism")?.value || "N/A",
            intake: document.querySelector('input[name="Intake"]:checked')?.value || "N/A",
            hang: document.querySelector('input[name="Hang"]:checked')?.value || "N/A",
            confidence: document.querySelector('input[name="confidence"]:checked')?.value || "N/A",
            reefCapability: Array.from(document.querySelectorAll('input[name="reefCapability"]:checked')).map(el => el.value) || [],
            visionType: Array.from(document.querySelectorAll('input[name="visionType"]:checked')).map(el => el.value) || [],
            gearRatio: {
                first: document.getElementById("gear-ratio-1")?.value || "N/A",
                second: document.getElementById("gear-ratio-2")?.value || "N/A"
            },
            algaeCapability: document.querySelector('input[name="algaeCapability"]:checked')?.value || "N/A",
            preload: document.querySelector('input[name="preload"]:checked')?.value || "N/A",
            weight: {
                kg: document.getElementById("weight-kg")?.value || "N/A",
                lbs: document.getElementById("weight-lbs")?.value || "N/A"
            }
        };

        // Compress JSON using msgpack
        const compressedData = msgpack.encode(data);
        localStorage.setItem("scoutingData", JSON.stringify(Array.from(compressedData)));
    }

    // Attach function to existing submit button
    document.querySelector('a[href*="https://sirpercivalpercival.github.io/FRC_PITSCOUT/main/templates/main/QRCODE.html"]').addEventListener("click", collectData);
</script>


    
    

</body>
</html> 
